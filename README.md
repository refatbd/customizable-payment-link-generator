# ðŸ”— Customizable Payment Link Generator for PipraPay

**Plugin Name:** Customizable Payment Link Generator  
**Description:** A PipraPay module to generate multiple, highly customizable payment links for fixed prices, custom amounts, or simple products.  
**Version:** 3.1.0  
**Author:** [Refat Rahman](https://github.com/refatbd)  
**License:** [GPL-2.0+](https://www.gnu.org/licenses/gpl-2.0.html)  
**Requires at least PipraPay version:** 1.0.0  
**Tested up to:** 1.0.3  
**Donate link:** [Donate](https://refat.ovh/donate)

---

## ðŸ“Œ Key Features

-   **Multiple Links**: Create and manage unlimited payment links, each with its own unique settings.
-   **Enable/Disable Links**: Easily toggle any payment link on or off.

-   **Advanced Amount Controls**:
    -   **Fixed Amount Mode**: Set a specific, non-editable price for a link.
    -   **Custom Amount Mode**: Allow users to enter their own amount.
    -   **Min/Max Amounts**: Enforce minimum or maximum payment amounts for custom links.
    -   **Suggested Amounts**: Display "chips" (e.g., $10, $25, $50) for easy amount selection.

-   **Stock & Quantity Control**:
    -   **Allow Quantity**: Enable a quantity field for fixed-price links, perfect for selling simple products or services.
    -   **Inventory Management**: Set a "Total Stock" for an item, which automatically decreases on successful purchase. Links are disabled when stock reaches zero.

-   **Advanced Form Builder**:
    -   **Standard Fields**: Toggle Customer Name and Email/Phone fields on or off.
    -   **Custom Fields**: Add unlimited custom fields to your form to collect extra data.
    -   **Field Types**: Supports **Text**, **Text Area**, **Dropdown Select**, **Checkboxes**, and **Radio Buttons**.
    -   **Validation**: Mark fields as "Required" and enable/disable them individually.

-   **Admin Dashboard & Reporting**:
    -   **Reports Tab**: View a dashboard of total revenue, transaction counts, and items sold per link. Filter reports by a date range.
    -   **Transactions Tab**: View all transactions generated by the plugin with pagination.
    -   **Advanced Filtering**: Filter the transaction list by **Status** (e.g., completed, pending), **Date Range**, or a **Search Term** (Payment ID, Name, Trx ID, etc.).
    -   **Bulk Actions**: Select multiple transactions and **bulk delete** them.
    -   **Transaction Details**: View detailed information for each transaction, including any custom field data submitted.

-   **Branding & Customization**:
    -   **Custom Title & Description**: Set a unique title and description for each link's page.
    -   **Custom Logo & Favicon**: Brand each link's page with its own logo and favicon.
    -   **Instruction Notice**: Add a custom instruction block (with line break support) that appears above the payment form.
    -   **Custom Footer Text**: Edit the "Secure Payment" footer text.

-   **URL & Redirects**:
    -   **Pretty Link (Permalinks)**: Use clean, user-friendly URLs (e.g., `yourdomain.com/pay`) that are automatically managed in your `.htaccess` file.
    -   **Custom Success Redirect**: Optionally redirect users to a custom "Thank You" URL after a successful payment.
    -   **Branded Status Pages**: The success, pending, and cancel pages are all branded with your link's logo.

-   **Flexible Currency Options**: Use the system default currency or set a specific currency for each individual link.

-   **Built-in Update Checker**: Get notified of new versions from your admin dashboard.

---

## ðŸŽ¯ Why Use This Plugin?

-   **Flexibility**: Perfect for donations (custom amount with suggestions), invoicing (fixed amount), custom services (custom amount with a minimum), or selling simple products (fixed amount with quantity & stock).
-   **Branding**: Customize each payment page to match its purpose or brand.
-   **Data Collection**: Collect all the information you need (like a Student ID, Invoice Number, or T-Shirt Size) directly with the payment using the advanced form builder.
-   **Easy to Manage**: Configure all settings and track all transactions and reports from a single, user-friendly interface in your admin dashboard.

---

## ðŸ“¥ Installation

1.  **Download** the plugin.
2.  **Upload** the `customizable-payment-link-generator` folder to your PipraPay `modules` section (e.g., `pp-content/plugins/modules/`).
3.  **Activate** the plugin from PipraPay's module settings.
4.  Go to **Admin Dashboard â†’ Module â†’ Customizable Payment Link Generator**.
5.  Configure your links!

---

## ðŸ“œ Changelog

### [3.1.0]
-   **Feature:** Added **Stock & Quantity Control** for fixed-price links, allowing for simple product sales and inventory management.
-   **Feature:** Added **Advanced Transaction Filtering** to the Transactions tab (filter by Status, Date Range, and Search).
-   **Feature:** Added **Bulk Deletion** for transactions on the Transactions tab.
-   **Feature:** Expanded **Advanced Form Builder** to support Text Area, Dropdown Select, Checkboxes, and Radio Buttons (previously only Text).
-   **Feature:** Added "Items Sold" count to the Reports page.

### [3.0.0]
-   **Feature:** Implemented **Multiple Link Support**. You can now create unlimited links.
-   **Feature:** Added **Advanced Amount Controls** per link:
    -   Fixed Amount Mode (new)
    -   Custom Amount Mode (existing)
    -   Minimum & Maximum Amount controls
    -   Suggested Amount "Chips"
-   **Feature:** Added **Basic Form Builder** to add custom text fields (e.g., "Invoice Number") to links.
-   **Feature:** Added **Custom Success Redirect URL** option per link.
-   **Feature:** Added **Reporting Page** in admin to see revenue and transaction counts per link.
-   **Refactor:** Major database update to store settings on a per-link basis in a new table.
-   **Refactor:** Overhauled Admin UI with a tabbed interface (Links, Reports) and new forms.
-   **Refactor:** Updated public `link.php` to render all new options and perform server-side validation.
-   **Refactor:** Updated `success.php` to handle the new custom redirect logic.

### [1.0.3] - 2025-10-20
-   **Fix:** Replaced deprecated `FILTER_SANITIZE_STRING`.
-   **Fix:** Corrected "Undefined array key default_currency" PHP warning.
-   **Tweak:** Moved update checker and added developer info block.

### [1.0.2] - 2025-09-25
-   **Feature:** Added "Use system currency" option.
-   **Fix:** Resolved a fatal PHP error on the admin page.

### [1.0.1] - 2025-09-24
-   **Fix:** Patched critical "Use system currency" bug.

### [1.0.0]
-   Initial release.